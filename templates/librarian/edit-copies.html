<!DOCTYPE html>
{% extends 'base.html' %}

{% block content %}
  <h1>{{title}}</h1>
  <form method="post">
    <div class="form-group">
      <label for="count">Copies</label>
      <input type="number" class="form-control" id="count" name="count" value="{{ book.copies_available|int }}">
    </div>
    <div class="form-group">
      <button type="button" class="btn btn-primary" onclick="decreaseCount()">Remove Copy</button>
      <button type="button" class="btn btn-primary" onclick="increaseCount()">Add Copy</button>
    </div>
    {{ csrf_token }}
    <input type="submit" class="btn btn-primary" value="Update">
  </form>

  <script>
    function increaseCount() {
      var countInput = document.getElementById('count');
      countInput.value = parseInt(countInput.value) + 1;
    }

    function decreaseCount() {
      var countInput = document.getElementById('count');
      var count = parseInt(countInput.value);
      if (count > 0) {
        countInput.value = count - 1;
      }
    }
  </script>
{% endblock %}
